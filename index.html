<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      @font-face {
        font-family: "Manrope";
        src: url(Manrope[wght]_copie.woff2) format("woff2");
      }
      body {
        height: 300vh;
        width: 100vw;
      }

      .circle {
        width: 50px;
        position: absolute;
        height: 50px;
        margin: auto;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        border-radius: 50%;
        border: 5px solid #505050;
        display: none;
      }

      .click {
        width: max-content;
        background: aqua;
        padding: 18px;
      }

      .box {
        position: absolute;
        top: 60vh;
        background-color: black;
        width: 10vw;
        height: 10vw;
      }

      h1 {
        display: flex;
        flex-direction: row;
        width: max-content;
        position: absolute;
        height: 50px;
        margin: auto;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        font-size: 64px;
        font-family: manrope, "sans-serif";
        /* font-variation-settings: "wght" 422; */
        font-feature-settings: "liga" 0;
      }

      input {
        background-color: #505050;
      }
    </style>
    <title>Accelerometer-test</title>
  </head>
  <body>
    <div id="output"></div>

    <div class="circle"></div>

    <div class="click">hello world</div>

    <div class="box"></div>

    <h1 id="text">Hello world</h1>

    <input type="text" maxlength="9" placeholder="hello" id="input" />

    <script>
      // const circle = document.querySelector('.circle');

      // window.addEventListener('deviceorientation', function (event) {
      //     console.log(event.alpha + ' : ' + event.beta + ' : ' + event.gamma);
      //     circle.style.transform = `translate(${-event.gamma * 2}px, ${-event.beta * 2}px)`;

      // });

      const text = document.querySelector("#text");
      let children = text.children;
      let listInput = [];

      function letter() {
        window.addEventListener("deviceorientation", function (event) {
          var value = document.querySelector("#input").value;
          
          console.log(coeficient);

          if (event.gamma > 0) {
            text.style.flexDirection = "row";

            text.innerHTML =
              `<span id="span1" style="color: red;">${value.charAt(0)}</span>` +
              `<span id="span2" style="color: red;">${value.charAt(1)}</span>` +
              `<span id="span3" style="color: red;">${value.charAt(2)}</span>` +
              `<span id="span4" style="color: red;">${value.charAt(3)}</span>` +
              `<span id="span5" style="color: red;">${value.charAt(4)}</span>` +
              `<span id="span6" style="color: red;">${value.charAt(5)}</span>` +
              `<span id="span7" style="color: red;">${value.charAt(6)}</span>` +
              `<span id="span8" style="color: red;">${value.charAt(7)}</span>` +
              `<span id="span9" style="color: red;">${value.charAt(8)}</span>`;

            var wght = event.gamma * (coeficient * 1) + 100;
            wghtSecond = event.gamma * (coeficient * 2) + 100;
            wghtThird = event.gamma * (coeficient * 3) + 100;
            wghtFourth = event.gamma * (coeficient * 4) + 100;
            wghtFifth = event.gamma * (coeficient * 5) + 100;
            wghtSix = event.gamma * (coeficient * 6) + 100;
            wghtSeven = event.gamma * (coeficient * 7) + 100;
            wghtEight = event.gamma * (coeficient * 8) + 100;
            wghtNine = event.gamma * (coeficient * 9) + 100;

            children[0].style.fontVariationSettings =
              "'wght' " + Math.round(wght);
            children[1].style.fontVariationSettings =
              "'wght' " + Math.round(wghtSecond);
            children[2].style.fontVariationSettings =
              "'wght' " + Math.round(wghtThird);
            children[3].style.fontVariationSettings =
              "'wght' " + Math.round(wghtFourth);
            children[4].style.fontVariationSettings =
              "'wght' " + Math.round(wghtFifth);
            children[5].style.fontVariationSettings =
              "'wght' " + Math.round(wghtSix);
            children[6].style.fontVariationSettings =
              "'wght' " + Math.round(wghtSeven);
            children[7].style.fontVariationSettings =
              "'wght' " + Math.round(wghtEight);
            children[8].style.fontVariationSettings =
              "'wght' " + Math.round(wghtNine);

            children[8].style.order = "-1";

            children[7].style.order = "-2";

            children[6].style.order = "-3";

            children[5].style.order = "-4";

            children[4].style.order = "-5";

            children[3].style.order = "-6";

            children[2].style.order = "-7";

            children[1].style.order = "-8";

            children[0].style.order = "-9";
          }

          if (event.gamma < 0) {
              text.style.justifyContent ="flex-end"
            text.style.flexDirection = "row-reverse";


            text.innerHTML =
              `<span id="span9" style="color: red;">${value.charAt(8)}</span>` +
              `<span id="span8" style="color: red;">${value.charAt(7)}</span>` +
              `<span id="span7" style="color: red;">${value.charAt(6)}</span>` +
              `<span id="span6" style="color: red;">${value.charAt(5)}</span>` +
              `<span id="span5" style="color: red;">${value.charAt(4)}</span>` +
              `<span id="span4" style="color: red;">${value.charAt(3)}</span>` +
              `<span id="span3" style="color: red;">${value.charAt(2)}</span>` +
              `<span id="span2" style="color: red;">${value.charAt(1)}</span>` +
              `<span id="span1" style="color: red;">${value.charAt(0)}</span>`;

            var wght = Math.abs(event.gamma) * (coeficient / 9) + 100;
            wghtSecond = Math.abs(event.gamma) * (coeficient / 8) + 100;
            wghtThird = Math.abs(event.gamma) * (coeficient / 7) + 100;
            wghtFourth = Math.abs(event.gamma) * (coeficient / 6) + 100;
            wghtFifth = Math.abs(event.gamma) * (coeficient / 5) + 100;
            wghtSix = Math.abs(event.gamma) * (coeficient / 4) + 100;
            wghtSeven = Math.abs(event.gamma) * (coeficient / 3) + 100;
            wghtEight = Math.abs(event.gamma) * (coeficient / 2) + 100;
            wghtNine = Math.abs(event.gamma) * (coeficient / 1) + 100;

            children[8].style.fontVariationSettings =
              "'wght' " + Math.round(wght);
            children[7].style.fontVariationSettings =
              "'wght' " + Math.round(wghtSecond);
            children[6].style.fontVariationSettings =
              "'wght' " + Math.round(wghtThird);
            children[5].style.fontVariationSettings =
              "'wght' " + Math.round(wghtFourth);
            children[4].style.fontVariationSettings =
              "'wght' " + Math.round(wghtFifth);
            children[3].style.fontVariationSettings =
              "'wght' " + Math.round(wghtSix);
            children[2].style.fontVariationSettings =
              "'wght' " + Math.round(wghtSeven);
            children[1].style.fontVariationSettings =
              "'wght' " + Math.round(wghtEight);
            children[0].style.fontVariationSettings =
              "'wght' " + Math.round(wghtNine);

            children[0].style.order = "-9";

            children[1].style.order = "-8";

            children[2].style.order = "-7";

            children[3].style.order = "-6";

            children[4].style.order = "-5";

            children[5].style.order = "-4";

            children[6].style.order = "-3";

            children[7].style.order = "-2";

            children[8].style.order = "-1";
          }
        });
      }

      function init() {
        function getAccel() {
          DeviceMotionEvent.requestPermission().then((response) => {
            if (response == "granted") {
              window.addEventListener("deviceorientation", function (event) {
                if (event.gamma > 0) {
                  letter();
                }
                if (event.gamma < 0) {
                  desktop();
                }
              });
            }
          });
        }

        document.querySelector("#input").oninput = function () {
          function mobile() {
            if (screen.width < 1200) {
              getAccel();
            } else {
              letter();
            }
          }

          console.log(screen.width);
          listInput.shift();
          var value = document.querySelector("#input").value;

          listInput.push(document.querySelector("#input").value.split(""));

          console.log(listInput);

          text.innerHTML =
            `<span id="span1" style="color: red;">${value.charAt(0)}</span>` +
            `<span id="span2" style="color: red;">${value.charAt(1)}</span>` +
            `<span id="span3" style="color: red;">${value.charAt(2)}</span>` +
            `<span id="span4" style="color: red;">${value.charAt(3)}</span>` +
            `<span id="span5" style="color: red;">${value.charAt(4)}</span>` +
            `<span id="span6" style="color: red;">${value.charAt(5)}</span>` +
            `<span id="span7" style="color: red;">${value.charAt(6)}</span>` +
            `<span id="span8" style="color: red;">${value.charAt(7)}</span>` +
            `<span id="span9" style="color: red;">${value.charAt(8)}</span>`;

          mobile();
        };
      }

      requestAnimationFrame(init);
    </script>
  </body>
</html>
